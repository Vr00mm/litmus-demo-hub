apiVersion: litmuschaos.io/v1alpha1
kind: ChaosEngine
metadata:
    name: nginx-network-chaos
    namespace: default
spec:
    engineState: active
    appinfo:
        appns: litmus
        applabel: app=chaos-exporter
        appkind: deployment
    chaosServiceAccount: pod-network-loss-sa
    experiments:
        - name: pod-network-loss
          spec:
            components:
                env:
                    - name: TOTAL_CHAOS_DURATION
                      value: "60"
                    - name: NETWORK_PACKET_LOSS_PERCENTAGE
                      value: "100"
                    - name: CONTAINER_RUNTIME
                      value: docker
                    - name: SOCKET_PATH
                      value: /var/run/docker.sock
                    - name: PODS_AFFECTED_PERC
                      value: ""
